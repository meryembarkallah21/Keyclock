{"ast":null,"code":"import axios from 'axios';\nimport { config } from '../../Constants';\nexport const moviesApi = {\n  getMovies,\n  getMovie,\n  saveMovie,\n  deleteMovie,\n  addMovieComment,\n  getUserExtrasMe,\n  saveUserExtrasMe\n};\nfunction getMovies() {\n  return instance.get('/api/movies');\n}\nfunction getMovie(imdbId) {\n  return instance.get(`/api/movies/${imdbId}`);\n}\nfunction saveMovie(movie, token) {\n  return instance.post('/api/movies', movie, {\n    headers: {\n      'Authorization': bearerAuth(token)\n    }\n  });\n}\nfunction deleteMovie(imdbId, token) {\n  return instance.delete(`/api/movies/${imdbId}`, {\n    headers: {\n      'Authorization': bearerAuth(token)\n    }\n  });\n}\nfunction addMovieComment(imdbId, comment, token) {\n  return instance.post(`/api/movies/${imdbId}/comments`, comment, {\n    headers: {\n      'Authorization': bearerAuth(token)\n    }\n  });\n}\nfunction getUserExtrasMe(token) {\n  return instance.get(`/api/userextras/me`, {\n    headers: {\n      'Authorization': bearerAuth(token)\n    }\n  });\n}\nfunction saveUserExtrasMe(token, userExtra) {\n  return instance.post(`/api/userextras/me`, userExtra, {\n    headers: {\n      'Authorization': bearerAuth(token)\n    }\n  });\n}\n\n// -- Axios\n\nconst instance = axios.create({\n  baseURL: config.url.API_BASE_URL\n});\ninstance.interceptors.response.use(response => {\n  return response;\n}, function (error) {\n  if (error.response.status === 404) {\n    return {\n      status: error.response.status\n    };\n  }\n  return Promise.reject(error.response);\n});\n\n// -- Helper functions\n\nfunction bearerAuth(token) {\n  return `Bearer ${token}`;\n}","map":{"version":3,"names":["axios","config","moviesApi","getMovies","getMovie","saveMovie","deleteMovie","addMovieComment","getUserExtrasMe","saveUserExtrasMe","instance","get","imdbId","movie","token","post","headers","bearerAuth","delete","comment","userExtra","create","baseURL","url","API_BASE_URL","interceptors","response","use","error","status","Promise","reject"],"sources":["C:/Users/Extreme PC/OneDrive/9raya projets/if5/keyclock/front/src/components/misc/MoviesApi.js"],"sourcesContent":["import axios from 'axios'\nimport { config } from '../../Constants'\n\nexport const moviesApi = {\n  getMovies,\n  getMovie,\n  saveMovie,\n  deleteMovie,\n  addMovieComment,\n  getUserExtrasMe,\n  saveUserExtrasMe\n}\n\nfunction getMovies() {\n  return instance.get('/api/movies')\n}\n\nfunction getMovie(imdbId) {\n  return instance.get(`/api/movies/${imdbId}`)\n}\n\nfunction saveMovie(movie, token) {\n  return instance.post('/api/movies', movie, {\n    headers: { 'Authorization': bearerAuth(token) }\n  })\n}\n\nfunction deleteMovie(imdbId, token) {\n  return instance.delete(`/api/movies/${imdbId}`, {\n    headers: { 'Authorization': bearerAuth(token) }\n  })\n}\n\nfunction addMovieComment(imdbId, comment, token) {\n  return instance.post(`/api/movies/${imdbId}/comments`, comment, {\n    headers: { 'Authorization': bearerAuth(token) }\n  })\n}\n\nfunction getUserExtrasMe(token) {\n  return instance.get(`/api/userextras/me`, {\n    headers: { 'Authorization': bearerAuth(token) }\n  })\n}\n\nfunction saveUserExtrasMe(token, userExtra) {\n  return instance.post(`/api/userextras/me`, userExtra, {\n    headers: { 'Authorization': bearerAuth(token) }\n  })\n}\n\n// -- Axios\n\nconst instance = axios.create({\n  baseURL: config.url.API_BASE_URL\n})\n\ninstance.interceptors.response.use(response => {\n  return response\n}, function (error) {\n  if (error.response.status === 404) {\n    return { status: error.response.status }\n  }\n  return Promise.reject(error.response)\n})\n\n// -- Helper functions\n\nfunction bearerAuth(token) {\n  return `Bearer ${token}`\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,iBAAiB;AAExC,OAAO,MAAMC,SAAS,GAAG;EACvBC,SAAS;EACTC,QAAQ;EACRC,SAAS;EACTC,WAAW;EACXC,eAAe;EACfC,eAAe;EACfC;AACF,CAAC;AAED,SAASN,SAASA,CAAA,EAAG;EACnB,OAAOO,QAAQ,CAACC,GAAG,CAAC,aAAa,CAAC;AACpC;AAEA,SAASP,QAAQA,CAACQ,MAAM,EAAE;EACxB,OAAOF,QAAQ,CAACC,GAAG,CAAE,eAAcC,MAAO,EAAC,CAAC;AAC9C;AAEA,SAASP,SAASA,CAACQ,KAAK,EAAEC,KAAK,EAAE;EAC/B,OAAOJ,QAAQ,CAACK,IAAI,CAAC,aAAa,EAAEF,KAAK,EAAE;IACzCG,OAAO,EAAE;MAAE,eAAe,EAAEC,UAAU,CAACH,KAAK;IAAE;EAChD,CAAC,CAAC;AACJ;AAEA,SAASR,WAAWA,CAACM,MAAM,EAAEE,KAAK,EAAE;EAClC,OAAOJ,QAAQ,CAACQ,MAAM,CAAE,eAAcN,MAAO,EAAC,EAAE;IAC9CI,OAAO,EAAE;MAAE,eAAe,EAAEC,UAAU,CAACH,KAAK;IAAE;EAChD,CAAC,CAAC;AACJ;AAEA,SAASP,eAAeA,CAACK,MAAM,EAAEO,OAAO,EAAEL,KAAK,EAAE;EAC/C,OAAOJ,QAAQ,CAACK,IAAI,CAAE,eAAcH,MAAO,WAAU,EAAEO,OAAO,EAAE;IAC9DH,OAAO,EAAE;MAAE,eAAe,EAAEC,UAAU,CAACH,KAAK;IAAE;EAChD,CAAC,CAAC;AACJ;AAEA,SAASN,eAAeA,CAACM,KAAK,EAAE;EAC9B,OAAOJ,QAAQ,CAACC,GAAG,CAAE,oBAAmB,EAAE;IACxCK,OAAO,EAAE;MAAE,eAAe,EAAEC,UAAU,CAACH,KAAK;IAAE;EAChD,CAAC,CAAC;AACJ;AAEA,SAASL,gBAAgBA,CAACK,KAAK,EAAEM,SAAS,EAAE;EAC1C,OAAOV,QAAQ,CAACK,IAAI,CAAE,oBAAmB,EAAEK,SAAS,EAAE;IACpDJ,OAAO,EAAE;MAAE,eAAe,EAAEC,UAAU,CAACH,KAAK;IAAE;EAChD,CAAC,CAAC;AACJ;;AAEA;;AAEA,MAAMJ,QAAQ,GAAGV,KAAK,CAACqB,MAAM,CAAC;EAC5BC,OAAO,EAAErB,MAAM,CAACsB,GAAG,CAACC;AACtB,CAAC,CAAC;AAEFd,QAAQ,CAACe,YAAY,CAACC,QAAQ,CAACC,GAAG,CAACD,QAAQ,IAAI;EAC7C,OAAOA,QAAQ;AACjB,CAAC,EAAE,UAAUE,KAAK,EAAE;EAClB,IAAIA,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;IACjC,OAAO;MAAEA,MAAM,EAAED,KAAK,CAACF,QAAQ,CAACG;IAAO,CAAC;EAC1C;EACA,OAAOC,OAAO,CAACC,MAAM,CAACH,KAAK,CAACF,QAAQ,CAAC;AACvC,CAAC,CAAC;;AAEF;;AAEA,SAAST,UAAUA,CAACH,KAAK,EAAE;EACzB,OAAQ,UAASA,KAAM,EAAC;AAC1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}
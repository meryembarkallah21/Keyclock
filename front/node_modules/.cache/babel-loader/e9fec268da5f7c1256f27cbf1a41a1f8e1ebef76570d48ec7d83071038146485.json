{"ast":null,"code":"import axios from 'axios';\nimport { config } from '../../Constants';\nexport const booksApi = {\n  getBooks,\n  getBook,\n  saveBook,\n  deleteBook,\n  addBookComment,\n  getUserExtrasMe,\n  saveUserExtrasMe\n};\nfunction getBooks() {\n  return instance.get('/api/books');\n}\nfunction getBook(isbnId) {\n  return instance.get(`/api/books/${isbnId}`);\n}\nfunction saveBook(book, token) {\n  return instance.post('/api/books', book, {\n    headers: {\n      'Authorization': bearerAuth(token)\n    }\n  });\n}\nfunction deleteBook(isbnId, token) {\n  return instance.delete(`/api/books/${isbnId}`, {\n    headers: {\n      'Authorization': bearerAuth(token)\n    }\n  });\n}\nfunction addBookComment(isbnId, comment, token) {\n  return instance.post(`/api/books/${isbnId}/comments`, comment, {\n    headers: {\n      'Authorization': bearerAuth(token)\n    }\n  });\n}\nfunction getUserExtrasMe(token) {\n  return instance.get(`/api/userextras/me`, {\n    headers: {\n      'Authorization': bearerAuth(token)\n    }\n  });\n}\nfunction saveUserExtrasMe(token, userExtra) {\n  return instance.post(`/api/userextras/me`, userExtra, {\n    headers: {\n      'Authorization': bearerAuth(token)\n    }\n  });\n}\n\n// -- Axios\n\nconst instance = axios.create({\n  baseURL: config.url.API_BASE_URL\n});\ninstance.interceptors.response.use(response => {\n  return response;\n}, function (error) {\n  if (error.response.status === 404) {\n    return {\n      status: error.response.status\n    };\n  }\n  return Promise.reject(error.response);\n});\n\n// -- Helper functions\n\nfunction bearerAuth(token) {\n  return `Bearer ${token}`;\n}","map":{"version":3,"names":["axios","config","booksApi","getBooks","getBook","saveBook","deleteBook","addBookComment","getUserExtrasMe","saveUserExtrasMe","instance","get","isbnId","book","token","post","headers","bearerAuth","delete","comment","userExtra","create","baseURL","url","API_BASE_URL","interceptors","response","use","error","status","Promise","reject"],"sources":["C:/Users/Extreme PC/OneDrive/9raya projets/if5/keyclock/front/src/components/misc/BooksApi.js"],"sourcesContent":["import axios from 'axios'\nimport { config } from '../../Constants'\n\n\nexport const booksApi = {\n  getBooks,\n  getBook,\n  saveBook,\n  deleteBook,\n  addBookComment,\n  getUserExtrasMe,\n  saveUserExtrasMe\n}\n\nfunction getBooks() {\n  return instance.get('/api/books')\n}\n\nfunction getBook(isbnId) {\n  return instance.get(`/api/books/${isbnId}`)\n}\n\nfunction saveBook(book, token) {\n  return instance.post('/api/books', book, {\n    headers: { 'Authorization': bearerAuth(token) }\n  })\n}\n\nfunction deleteBook(isbnId, token) {\n  return instance.delete(`/api/books/${isbnId}`, {\n    headers: { 'Authorization': bearerAuth(token) }\n  })\n}\n\nfunction addBookComment(isbnId, comment, token) {\n  return instance.post(`/api/books/${isbnId}/comments`, comment, {\n    headers: { 'Authorization': bearerAuth(token) }\n  })\n}\n\nfunction getUserExtrasMe(token) {\n  return instance.get(`/api/userextras/me`, {\n    headers: { 'Authorization': bearerAuth(token) }\n  })\n}\n\nfunction saveUserExtrasMe(token, userExtra) {\n  return instance.post(`/api/userextras/me`, userExtra, {\n    headers: { 'Authorization': bearerAuth(token) }\n  })\n}\n\n// -- Axios\n\nconst instance = axios.create({\n  baseURL: config.url.API_BASE_URL\n})\n\ninstance.interceptors.response.use(response => {\n  return response\n}, function (error) {\n  if (error.response.status === 404) {\n    return { status: error.response.status }\n  }\n  return Promise.reject(error.response)\n})\n\n// -- Helper functions\n\nfunction bearerAuth(token) {\n  return `Bearer ${token}`\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,iBAAiB;AAGxC,OAAO,MAAMC,QAAQ,GAAG;EACtBC,QAAQ;EACRC,OAAO;EACPC,QAAQ;EACRC,UAAU;EACVC,cAAc;EACdC,eAAe;EACfC;AACF,CAAC;AAED,SAASN,QAAQA,CAAA,EAAG;EAClB,OAAOO,QAAQ,CAACC,GAAG,CAAC,YAAY,CAAC;AACnC;AAEA,SAASP,OAAOA,CAACQ,MAAM,EAAE;EACvB,OAAOF,QAAQ,CAACC,GAAG,CAAE,cAAaC,MAAO,EAAC,CAAC;AAC7C;AAEA,SAASP,QAAQA,CAACQ,IAAI,EAAEC,KAAK,EAAE;EAC7B,OAAOJ,QAAQ,CAACK,IAAI,CAAC,YAAY,EAAEF,IAAI,EAAE;IACvCG,OAAO,EAAE;MAAE,eAAe,EAAEC,UAAU,CAACH,KAAK;IAAE;EAChD,CAAC,CAAC;AACJ;AAEA,SAASR,UAAUA,CAACM,MAAM,EAAEE,KAAK,EAAE;EACjC,OAAOJ,QAAQ,CAACQ,MAAM,CAAE,cAAaN,MAAO,EAAC,EAAE;IAC7CI,OAAO,EAAE;MAAE,eAAe,EAAEC,UAAU,CAACH,KAAK;IAAE;EAChD,CAAC,CAAC;AACJ;AAEA,SAASP,cAAcA,CAACK,MAAM,EAAEO,OAAO,EAAEL,KAAK,EAAE;EAC9C,OAAOJ,QAAQ,CAACK,IAAI,CAAE,cAAaH,MAAO,WAAU,EAAEO,OAAO,EAAE;IAC7DH,OAAO,EAAE;MAAE,eAAe,EAAEC,UAAU,CAACH,KAAK;IAAE;EAChD,CAAC,CAAC;AACJ;AAEA,SAASN,eAAeA,CAACM,KAAK,EAAE;EAC9B,OAAOJ,QAAQ,CAACC,GAAG,CAAE,oBAAmB,EAAE;IACxCK,OAAO,EAAE;MAAE,eAAe,EAAEC,UAAU,CAACH,KAAK;IAAE;EAChD,CAAC,CAAC;AACJ;AAEA,SAASL,gBAAgBA,CAACK,KAAK,EAAEM,SAAS,EAAE;EAC1C,OAAOV,QAAQ,CAACK,IAAI,CAAE,oBAAmB,EAAEK,SAAS,EAAE;IACpDJ,OAAO,EAAE;MAAE,eAAe,EAAEC,UAAU,CAACH,KAAK;IAAE;EAChD,CAAC,CAAC;AACJ;;AAEA;;AAEA,MAAMJ,QAAQ,GAAGV,KAAK,CAACqB,MAAM,CAAC;EAC5BC,OAAO,EAAErB,MAAM,CAACsB,GAAG,CAACC;AACtB,CAAC,CAAC;AAEFd,QAAQ,CAACe,YAAY,CAACC,QAAQ,CAACC,GAAG,CAACD,QAAQ,IAAI;EAC7C,OAAOA,QAAQ;AACjB,CAAC,EAAE,UAAUE,KAAK,EAAE;EAClB,IAAIA,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;IACjC,OAAO;MAAEA,MAAM,EAAED,KAAK,CAACF,QAAQ,CAACG;IAAO,CAAC;EAC1C;EACA,OAAOC,OAAO,CAACC,MAAM,CAACH,KAAK,CAACF,QAAQ,CAAC;AACvC,CAAC,CAAC;;AAEF;;AAEA,SAAST,UAAUA,CAACH,KAAK,EAAE;EACzB,OAAQ,UAASA,KAAM,EAAC;AAC1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}